SELECT a.NOME, a.CPF, a.DATA_NASCIMENTO, m.NOME AS MODALIDADE
FROM ALUNOS a
JOIN ALUNOS_MODALIDADES am ON a.CPF = am.CPF_ALUNO
JOIN MODALIDADES m ON am.COD_MODALIDADE = m.CODIGO
WHERE m.NOME = 'Musculação'
ORDER BY a.NOME;

SELECT a.NOME AS ALUNO, p.DESCRICAO AS PLANO_TREINAMENTO, i.NOME AS INSTRUTOR
FROM ALUNOS a
JOIN PLANOS_TREINAMENTO p ON a.CPF = p.CPF_ALUNO
JOIN INSTRUTORES i ON p.CPF_INSTRUTOR = i.CPF
ORDER BY a.NOME;

SELECT a.NOME AS ALUNO, a.CPF, al.HORARIO, m.NOME AS MODALIDADE, al.CAPACIDADE, COUNT(aa.CPF_ALUNO) AS PARTICIPANTES
FROM AULAS al
JOIN AULAS_ALUNOS aa ON al.COD_AULA = aa.COD_AULA
JOIN ALUNOS a ON aa.CPF_ALUNO = a.CPF
JOIN MODALIDADES m ON al.COD_MODALIDADE = m.CODIGO
WHERE al.HORARIO = '2024-11-15 10:00:00' -- exemplo de horário específico
GROUP BY al.COD_AULA
HAVING PARTICIPANTES < al.CAPACIDADE;

SELECT a.NOME, p.DATA_PAGAMENTO, p.VALOR, p.STATUS
FROM ALUNOS a
JOIN PAGAMENTOS p ON a.CPF = p.CPF_ALUNO
ORDER BY p.DATA_PAGAMENTO DESC;

SELECT i.NOME AS INSTRUTOR, m.NOME AS MODALIDADE
FROM INSTRUTORES i
JOIN INSTRUTORES_MODALIDADES im ON i.CPF = im.CPF_INSTRUTOR
JOIN MODALIDADES m ON im.COD_MODALIDADE = m.CODIGO
ORDER BY i.NOME, m.NOME;

SELECT p.DATA_PAGAMENTO, p.VALOR, p.STATUS
FROM PAGAMENTOS p
WHERE p.CPF_ALUNO = 'CPF_DO_ALUNO'
AND p.STATUS = 'PENDENTE';

SELECT a.NOME AS ALUNO, p.DESCRICAO AS PLANO_TREINAMENTO, i.NOME AS INSTRUTOR
FROM ALUNOS a
JOIN PLANOS_TREINAMENTO p ON a.CPF = p.CPF_ALUNO
JOIN INSTRUTORES i ON p.CPF_INSTRUTOR = i.CPF
ORDER BY a.NOME;

SELECT al.HORARIO, al.CAPACIDADE, COUNT(aa.CPF_ALUNO) AS PARTICIPANTES
FROM AULAS al
JOIN AULAS_ALUNOS aa ON al.COD_AULA = aa.COD_AULA
JOIN MODALIDADES m ON al.COD_MODALIDADE = m.CODIGO
WHERE m.NOME = 'Natação'
GROUP BY al.COD_AULA;

SELECT a.NOME, COUNT(am.COD_MODALIDADE) AS NUMERO_DE_MODALIDADES
FROM ALUNOS a
JOIN ALUNOS_MODALIDADES am ON a.CPF = am.CPF_ALUNO
GROUP BY a.CPF
HAVING NUMERO_DE_MODALIDADES > 1
ORDER BY a.NOME;

SELECT a.NOME, p.DATA_PAGAMENTO, p.VALOR, p.STATUS
FROM ALUNOS a
JOIN PAGAMENTOS p ON a.CPF = p.CPF_ALUNO
ORDER BY p.DATA_PAGAMENTO DESC;

